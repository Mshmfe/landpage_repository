// Translations object
const translations = {
    'nav-home': {
        'en': 'Home',
        'ar': 'الرئيسية'
    },
    'nav-about': {
        'en': 'About Us',
        'ar': 'من نحن'
    },
    'nav-services': {
        'en': 'Our Services',
        'ar': 'خدماتنا'
    },
    'nav-login': {
        'en': 'Login',
        'ar': 'تسجيل الدخول'
    },
    'hero-title': {
        'en': 'Training & Employment Platform',
        'ar': 'منصة التدريب والتوظيف'
    },
    'hero-subtitle': {
        'en': 'Your gateway to training and employment opportunities at University of Tabuk',
        'ar': 'بوابتك لفرص التدريب والتوظيف في جامعة تبوك'
    },
    'learn-more': {
        'en': 'Learn More',
        'ar': 'اعرف المزيد'
    },
    'get-started': {
        'en': 'Get Started',
        'ar': 'ابدأ الآن'
    },
    'why-choose-us': {
        'en': 'Why Choose Our Platform?',
        'ar': 'لماذا تختار منصتنا؟'
    },
    'feature-1-title': {
        'en': 'Training Opportunities',
        'ar': 'فرص تدريبية'
    },
    'feature-1-desc': {
        'en': 'Access diverse training programs from leading companies',
        'ar': 'برامج تدريبية متنوعة من شركات رائدة'
    },
    'feature-2-title': {
        'en': 'Job Opportunities',
        'ar': 'فرص وظيفية'
    },
    'feature-2-desc': {
        'en': 'Connect with employers seeking talented graduates',
        'ar': 'تواصل مع أصحاب العمل الباحثين عن الخريجين الموهوبين'
    },
    'feature-3-title': {
        'en': 'Professional Network',
        'ar': 'شبكة مهنية'
    },
    'feature-3-desc': {
        'en': 'Build connections with industry professionals',
        'ar': 'بناء علاقات مع المتخصصين في المجال'
    },
    'stats-section-title': {
        'en': 'Platform Statistics',
        'ar': 'إحصائيات المنصة'
    },
    'stat-1': {
        'en': 'Partner Companies',
        'ar': 'شركة شريكة'
    },
    'stat-2': {
        'en': 'Students & Graduates',
        'ar': 'طالب وخريج'
    },
    'stat-3': {
        'en': 'Job Opportunities',
        'ar': 'فرصة وظيفية'
    },
    'our-partners': {
        'en': 'Our Partners',
        'ar': 'شركاؤنا'
    },
    'our-partners': {
        'en': 'We collaborate with leading companies to provide the best opportunities',
        'ar': 'نتعاون مع الشركات الرائدة لتوفير أفضل الفرص'
    },
    'service1-title': {
        'en': 'Jobs & Training Opportunities',
        'ar': 'فرص العمل والتدريب'
    },
    'service1-desc': {
        'en': 'Find job and training opportunities suitable for your specialization and skills',
        'ar': 'ابحث عن فرص العمل والتدريب المناسبة لتخصصك ومهاراتك'
    },
    'service1-feature1': {
        'en': '✓ Diverse job opportunities',
        'ar': '✓ فرص عمل متنوعة'
    },
    'service1-feature2': {
        'en': '✓ Practical training',
        'ar': '✓ تدريب عملي'
    },
    'service1-feature3': {
        'en': '✓ Professional development programs',
        'ar': '✓ برامج تطوير مهنية'
    },
    'service2-title': {
        'en': 'CV Builder',
        'ar': 'منشئ السيرة الذاتية'
    },
    'service2-desc': {
        'en': 'Create a professional CV that highlights your skills and experience',
        'ar': 'أنشئ سيرة ذاتية احترافية تبرز مهاراتك وخبراتك'
    },
    'service2-feature1': {
        'en': 'Professional templates',
        'ar': 'قوالب احترافية'
    },
    'service2-feature2': {
        'en': 'Tips and guidance',
        'ar': 'نصائح وتوجيهات'
    },
    'service2-feature3': {
        'en': 'Continuous updates',
        'ar': 'تحديثات مستمرة'
    },
    'service3-title': {
        'en': 'Career Guidance',
        'ar': 'الإرشاد المهني'
    },
    'service3-desc': {
        'en': 'Professional guidance to help you plan and develop your career path',
        'ar': 'إرشاد مهني لمساعدتك في تخطيط وتطوير مسارك الوظيفي'
    },
    'service3-feature1': {
        'en': '✓ Career counseling',
        'ar': '✓ استشارات مهنية'
    },
    'service3-feature2': {
        'en': '✓ Skills assessment',
        'ar': '✓ تقييم المهارات'
    },
    'service3-feature3': {
        'en': '✓ Development plans',
        'ar': '✓ خطط تطوير'
    },
    'service4-title': {
        'en': 'Training & Development',
        'ar': 'التدريب والتطوير'
    },
    'partner-1': {
        'en': 'Bechtel Corporation',
        'ar': 'شركة بكتل'
    },
    'partner-2': {
        'en': 'NEOM',
        'ar': 'نيوم'
    },
    'partner-3': {
        'en': 'Tabuk Pharmaceuticals',
        'ar': 'تبوك للأدوية'
    },
    'contact-title': {
        'en': 'Contact Us',
        'ar': 'اتصل بنا'
    },
    'address': {
        'en': 'University of Tabuk - Kingdom of Saudi Arabia',
        'ar': 'جامعة تبوك - المملكة العربية السعودية'
    },
    'email': {
        'en': 'Email: info@ut.edu.sa',
        'ar': 'البريد الإلكتروني: info@ut.edu.sa'
    },
    'phone': {
        'en': 'Phone: +966 14 427 1111',
        'ar': 'الهاتف: ٩٦٦١٤٤٢٧١١١١+'
    },
    'quick-links': {
        'en': 'Quick Links',
        'ar': 'روابط سريعة'
    },
    'faq-link': {
        'en': 'FAQ',
        'ar': 'الأسئلة الشائعة'
    },
    'privacy-link': {
        'en': 'Privacy Policy',
        'ar': 'سياسة الخصوصية'
    },
    'terms-link': {
        'en': 'Terms of Use',
        'ar': 'شروط الاستخدام'
    },
    'follow-us': {
        'en': 'Follow Us',
        'ar': 'تابعنا'
    },
    'services-title': {
        'en': 'Our Services',
        'ar': 'خدماتنا'
    },
    'services-subtitle': {
        'en': 'We provide a comprehensive range of services to support your career path',
        'ar': 'نقدم مجموعة شاملة من الخدمات لدعم مسيرتك المهنية'
    },
    'service1-title': {
        'en': 'Jobs & Training Opportunities',
        'ar': 'الوظائف والفرص التدريبية'
    },
    'service1-desc': {
        'en': 'Find job opportunities and training programs suitable for your specialization and skills',
        'ar': 'ابحث عن الوظائف والبرامج التدريبية المناسبة لتخصصك ومهاراتك'
    },
    'service1-feature1': {
        'en': '✓ Various job opportunities',
        'ar': '✓ فرص وظيفية متنوعة'
    },
    'service1-feature2': {
        'en': '✓ Training programs',
        'ar': '✓ برامج تدريبية'
    },
    'service1-feature3': {
        'en': '✓ Professional development',
        'ar': '✓ تطوير مهني'
    },
    'service2-title': {
        'en': 'CV Builder',
        'ar': 'إنشاء سيرة ذاتية'
    },
    'service2-desc': {
        'en': 'Create a professional CV that highlights your skills and experience',
        'ar': 'أنشئ سيرة ذاتية احترافية تبرز مهاراتك وخبراتك'
    },
    'service2-feature1': {
        'en': 'Professional templates',
        'ar': 'قوالب احترافية'
    },
    'service2-feature2': {
        'en': 'Tips and guidance',
        'ar': 'نصائح وتوجيهات'
    },
    'service2-feature3': {
        'en': 'Continuous updates',
        'ar': 'تحديثات مستمرة'
    },
    'service3-title': {
        'en': 'Career Guidance',
        'ar': 'الإرشاد المهني'
    },
    'service3-desc': {
        'en': 'Professional guidance to help you plan and develop your career path',
        'ar': 'إرشاد مهني لمساعدتك في تخطيط وتطوير مسارك الوظيفي'
    },
    'service3-feature1': {
        'en': '✓ Career counseling',
        'ar': '✓ استشارات مهنية'
    },
    'service3-feature2': {
        'en': '✓ Skills assessment',
        'ar': '✓ تقييم المهارات'
    },
    'service3-feature3': {
        'en': '✓ Development plans',
        'ar': '✓ خطط تطوير'
    },
    'service4-title': {
        'en': 'Training & Development',
        'ar': 'التدريب والتطوير'
    },
    'service4-desc': {
        'en': 'Specialized training programs to develop your professional skills',
        'ar': 'برامج تدريبية متخصصة لتطوير مهاراتك المهنية'
    },
    'service4-feature1': {
        'en': 'Training courses',
        'ar': 'دورات تدريبية'
    },
    'service4-feature2': {
        'en': 'Workshops',
        'ar': 'ورش عمل'
    },
    'service4-feature3': {
        'en': 'Certified certificates',
        'ar': 'شهادات معتمدة'
    },
    'service5-title': {
        'en': 'Market Analysis',
        'ar': 'تحليل السوق'
    },
    'service5-desc': {
        'en': 'Analysis and statistics about the job market and in-demand positions',
        'ar': 'تحليلات وإحصائيات عن سوق العمل والمناصب المطلوبة'
    },
    'service5-feature1': {
        'en': 'Periodic reports',
        'ar': 'تقارير دورية'
    },
    'service5-feature2': {
        'en': 'Employment statistics',
        'ar': 'إحصائيات التوظيف'
    },
    'service5-feature3': {
        'en': 'Market forecasts',
        'ar': 'توقعات السوق'
    },
    'service6-title': {
        'en': 'Career Guidance',
        'ar': 'التوجيه الوظيفي'
    },
    'service6-desc': {
        'en': 'Guidance services to direct your career path',
        'ar': 'خدمات توجيهية لتوجيه مسارك الوظيفي'
    },
    'service6-feature1': {
        'en': 'Career consultations',
        'ar': 'استشارات مهنية'
    },
    'service6-feature2': {
        'en': 'Skills assessment',
        'ar': 'تقييم المهارات'
    },
    'service6-feature3': {
        'en': 'Development plans',
        'ar': 'خطط تطوير'
    },
    'about-title': {
        'en': 'About Our Platform',
        'ar': 'عن منصتنا'
    },
    'about-subtitle': {
        'en': 'Learn more about our mission to connect students with opportunities',
        'ar': 'تعرف على مهمتنا في ربط الطلاب بالفرص'
    },
    'about-mission-title': {
        'en': 'Our Mission',
        'ar': 'مهمتنا'
    },
    'about-mission-text': {
        'en': 'We strive to create a bridge between University of Tabuk students and the job market, providing them with the tools and opportunities they need to succeed in their careers.',
        'ar': 'نسعى لإنشاء جسر بين طلاب جامعة تبوك وسوق العمل، وتقديم الأدوات والفرص التي يحتاجونها للنجاح في حياتهم المهنية.'
    },
    'about-vision-title': {
        'en': 'Our Vision',
        'ar': 'رؤيتنا'
    },
    'about-vision-text': {
        'en': 'To be the leading platform for career development and employment opportunities for University of Tabuk students and graduates.',
        'ar': 'أن نصبح المنصة الرائدة لتطوير المهارات وتوظيف خريجي جامعة تبوك.'
    },
    'platform-features': {
        'en': 'Platform Features',
        'ar': 'ميزات المنصة'
    },
    'feature1-title': {
        'en': 'User-Friendly Interface',
        'ar': 'واجهة سهلة الاستخدام'
    },
    'feature1-desc': {
        'en': 'Easy to use platform designed for both students and employers',
        'ar': 'منصة سهلة الاستخدام مصممة للطلاب وأصحاب العمل'
    },
    'feature2-title': {
        'en': 'Secure Platform',
        'ar': 'منصة آمنة'
    },
    'feature2-desc': {
        'en': 'Advanced security measures to protect user data',
        'ar': 'إجراءات أمان متقدمة لحماية بيانات المستخدمين'
    },
    'feature3-title': {
        'en': 'Real-time Updates',
        'ar': 'تحديثات فورية'
    },
    'feature3-desc': {
        'en': 'Instant notifications about new opportunities',
        'ar': 'إشعارات فورية عن الفرص الجديدة'
    },
    'our-team': {
        'en': 'Our Team',
        'ar': 'فريقنا'
    },
    'team1-name': {
        'en': 'Dr. Abdullah Al-Zahrani',
        'ar': 'د. عبد الله الزهراني'
    },
    'team1-position': {
        'en': 'Platform Director',
        'ar': 'مدير المنصة'
    },
    'team2-name': {
        'en': 'Dr. Sarah Al-Otaibi',
        'ar': 'د. سارة العتيبي'
    },
    'team2-position': {
        'en': 'Career Development Manager',
        'ar': 'مدير تطوير المهارات'
    },
    'team3-name': {
        'en': 'Eng. Mohammed Al-Harbi',
        'ar': 'مهندس محمد الحربي'
    },
    'team3-position': {
        'en': 'Technical Support Manager',
        'ar': 'مدير الدعم الفني'
    },
    'companies-section': {
        'en': 'Companies Section',
        'ar': 'قسم الشركات'
    },
    'companies-desc': {
        'en': 'We provide companies with an integrated platform to connect with talented students and graduates',
        'ar': 'نوفر للشركات منصة متكاملة للتواصل مع الطلاب والخريجين الموهوبين'
    },
    'companies-feature-1': {
        'en': '✓ Post training and job opportunities',
        'ar': '✓ نشر فرص التدريب والتوظيف'
    },
    'companies-feature-2': {
        'en': '✓ Direct communication with candidates',
        'ar': '✓ تواصل مباشر مع المرشحين'
    },
    'companies-feature-3': {
        'en': '✓ Manage job applications',
        'ar': '✓ إدارة طلبات التوظيف'
    },
    'view-companies-videos': {
        'en': 'View Training Videos',
        'ar': 'مشاهدة فيديوهات التدريب'
    },
    'students-section': {
        'en': 'Students & Alumni',
        'ar': 'الطلاب والخريجين'
    },
    'students-desc': {
        'en': 'We offer outstanding training and employment opportunities in major companies',
        'ar': 'نقدم فرص تدريب وتوظيف متميزة في كبرى الشركات'
    },
    'students-feature-1': {
        'en': '✓ Search for training and job opportunities',
        'ar': '✓ البحث عن فرص التدريب والتوظيف'
    },
    'students-feature-2': {
        'en': '✓ Build professional CV',
        'ar': '✓ بناء السيرة الذاتية الاحترافية'
    },
    'students-feature-3': {
        'en': '✓ Direct communication with companies',
        'ar': '✓ تواصل مباشر مع الشركات'
    },
    'view-students-videos': {
        'en': 'View Training Videos',
        'ar': 'مشاهدة فيديوهات التدريب'
    },
    'faculty-section': {
        'en': 'Faculty Members',
        'ar': 'أعضاء هيئة التدريس'
    },
    'faculty-desc': {
        'en': 'We enable faculty members to support and guide students in their career path',
        'ar': 'نمكن أعضاء هيئة التدريس من دعم وتوجيه الطلاب في مسارهم المهني'
    },
    'faculty-feature-1': {
        'en': '✓ Monitor student progress',
        'ar': '✓ متابعة تقدم الطلاب'
    },
    'faculty-feature-2': {
        'en': '✓ Provide career guidance',
        'ar': '✓ تقديم التوجيه المهني'
    },
    'faculty-feature-3': {
        'en': '✓ Communicate with companies',
        'ar': '✓ التواصل مع الشركات'
    },
    'view-faculty-videos': {
        'en': 'View Training Videos',
        'ar': 'مشاهدة فيديوهات التدريب'
    },
    'latest-news-title': {
        'en': 'Latest News',
        'ar': 'آخر الأخبار'
    },
    'latest-news-content': {
        'en': 'Stay updated with the latest news from the University of Tabuk.',
        'ar': 'تابع أحدث الأخبار من جامعة تبوك.'
    },
    'news-title-1': {
        'en': 'News Title 1',
        'ar': 'عنوان الخبر 1'
    },
    'news-content-1': {
        'en': 'Brief description of news 1.',
        'ar': 'وصف مختصر للخبر 1.'
    },
    'partners-title': {
        'en': 'Our Partners',
        'ar': 'شركاؤنا'
    },
    'build-cv-button': {
        'en': 'Build CV',
        'ar': 'إبني سيرتك الذاتية'
    },
    'connect-now-button': {
        'en': 'Connect Now',
        'ar': 'أحجز موعدك'
    },
    'students-graduates': {
        'en': 'Students / Alumni',
        'ar': 'الطلاب / خريجون'
    },
    'students-graduates': {
        'en': 'Students / Alumni',
        'ar': 'الطلاب / خريجون'
    },
    'faculty': {
        'en': 'Faculty Members',
        'ar': 'أعضاء هيئة التدريس'
    },
    'companies': {
        'en': 'Companies',
        'ar': 'شركات'
    },
    'visitor_count': {
        'en': 'Visitor Count: ',
        'ar': 'عدد الزوار: '
    }
};

// Language toggle functionality
let currentLanguage = localStorage.getItem('language') || 'en';

// Update text direction and language class
function updateTextDirection() {
    if (currentLanguage === 'ar') {
        document.documentElement.setAttribute('dir', 'rtl');
        document.documentElement.setAttribute('lang', 'ar');
        document.body.classList.remove('ltr');
        document.body.classList.add('rtl');
        document.body.style.fontFamily = "'Cairo', sans-serif";
        // Disable LTR Bootstrap and enable RTL Bootstrap
        document.querySelector('link[href*="bootstrap.min.css"]').disabled = true;
        document.querySelector('link[href*="bootstrap.rtl.min.css"]').disabled = false;
    } else {
        document.documentElement.setAttribute('dir', 'ltr');
        document.documentElement.setAttribute('lang', 'en');
        document.body.classList.remove('rtl');
        document.body.classList.add('ltr');
        document.body.style.fontFamily = "'Roboto', sans-serif";
        // Enable LTR Bootstrap and disable RTL Bootstrap
        document.querySelector('link[href*="bootstrap.min.css"]').disabled = false;
        document.querySelector('link[href*="bootstrap.rtl.min.css"]').disabled = true;
    }
}

// Toggle language function
function toggleLanguage() {
    currentLanguage = currentLanguage === 'en' ? 'ar' : 'en';
    localStorage.setItem('language', currentLanguage);
    updateTextDirection();
    updateContent();
    updateButtonText();
}

// Update button text
function updateButtonText() {
    const toggleButton = document.querySelector('button[onclick="toggleLanguage()"]');
    if (toggleButton) {
        toggleButton.textContent = currentLanguage === 'en' ? 'عربي' : 'English';
    }
}

// Function to update content based on language
function updateContent() {
    document.querySelectorAll('[data-translate]').forEach(element => {
        const key = element.getAttribute('data-translate');
        if (translations[key] && translations[key][currentLanguage]) {
            const translation = translations[key][currentLanguage];
            if (element.hasAttribute('placeholder')) {
                element.placeholder = translation;
            } else {
                element.textContent = translation;
            }
        }
    });

    // Update partner company names
    document.querySelectorAll('[data-company]').forEach(element => {
        const key = element.getAttribute('data-company');
        if (translations[key] && translations[key][currentLanguage]) {
            const translation = translations[key][currentLanguage];
            element.alt = translation;
            element.title = translation;
        }
    });
}

// Initialize the page
document.addEventListener('DOMContentLoaded', function() {
    // Set initial language from localStorage or default to 'en'
    currentLanguage = localStorage.getItem('language') || 'en';

    // Initial setup
    updateTextDirection();
    updateContent();
    updateButtonText();

    // Add visitor count functionality
    let count = parseInt(localStorage.getItem('visitorCount')) || 0;
    if (count === 0) {
        count++;
        localStorage.setItem('visitorCount', count);
    }
    const visitorCountElement = document.getElementById('visitorCount');
    const visitorTextElement = document.getElementById('visitorText');

    // استرجاع اللغة الحالية
    currentLanguage = localStorage.getItem('language') || 'en';

    // تحديث العدد
    visitorCountElement.textContent = count;

    // إظهار النص المناسب بناءً على اللغة
    if (currentLanguage === 'ar') {
        visitorTextElement.textContent = 'عدد الزوار'; // النص بالعربية
    } else {
        visitorTextElement.textContent = 'Visitor Count'; // النص بالإنجليزية
    }

    // إضافة استرجاع قيمة currentLanguage من localStorage عند تحميل الصفحة.
    currentLanguage = localStorage.getItem('language') || 'en';

    // إضافة وظيفة JavaScript لدعم القائمة المنسدلة لزر تسجيل الدخول الموجود.
    console.log(currentLanguage); // تحقق من قيمة currentLanguage

    // Add event listener for login button to toggle dropdown
    const loginButton = document.getElementById('loginButton');
    const loginOptions = document.getElementById('loginOptions');

    loginButton.addEventListener('click', function() {
        // Toggle visibility of dropdown
        if (loginOptions.style.display === 'block') {
            loginOptions.style.display = 'none';
        } else {
            loginOptions.style.display = 'block';
        }
    });

    // Close the dropdown if the user clicks outside of it
    window.addEventListener('click', function(event) {
        if (!event.target.matches('#loginButton')) {
            if (loginOptions.style.display === 'block') {
                loginOptions.style.display = 'none';
            }
        }
    });

    window.onclick = function(event) {
        if (!event.target.matches('#loginButton')) {
            var options = document.getElementById('loginOptions');
            options.style.display = 'none';
        }
    };

    function redirectTo(page) {
        window.location.href = page;
    }

    document.addEventListener('DOMContentLoaded', function() {
        currentLanguage = localStorage.getItem('language') || 'en';

        // تعيين النصوص في القائمة المنسدلة
        const dropdownLinks = document.querySelectorAll('.dropdown-content a');
        dropdownLinks.forEach(link => {
            const translationKey = link.getAttribute('data-translate');
            if (translations[translationKey]) {
                link.textContent = translations[translationKey][currentLanguage];
            } else {
                console.warn(`Translation key ${translationKey} not found`);
            }
        });
    });
});

document.addEventListener('DOMContentLoaded', function() {
    let count = parseInt(localStorage.getItem('visitorCount')) || 0;
    if (count === 0) {
        count++;
        localStorage.setItem('visitorCount', count);
    }
    const visitorCountElement = document.getElementById('visitorCount');
    const visitorTextElement = document.getElementById('visitorText');

    // استرجاع اللغة الحالية
    currentLanguage = localStorage.getItem('language') || 'en';

    // تحديث العدد
    visitorCountElement.textContent = count;

    // إظهار النص المناسب بناءً على اللغة
    if (currentLanguage === 'ar') {
        visitorTextElement.textContent = 'عدد الزوار'; // النص بالعربية
    } else {
        visitorTextElement.textContent = 'Visitor Count'; // النص بالإنجليزية
    }
});

function updateVisitorText() {
    const visitorTextElement = document.getElementById('visitorText');
    if (currentLanguage === 'ar') {
        visitorTextElement.textContent = 'عدد الزوار'; // النص بالعربية
    } else {
        visitorTextElement.textContent = 'Visitor Count'; // النص بالإنجليزية
    }
}

document.addEventListener('DOMContentLoaded', function() {
    let count = parseInt(localStorage.getItem('visitorCount')) || 0;
    if (count === 0) {
        count++;
        localStorage.setItem('visitorCount', count);
    }
    const visitorCountElement = document.getElementById('visitorCount');

    // استرجاع اللغة الحالية
    currentLanguage = localStorage.getItem('language') || 'en';

    // تحديث العدد
    visitorCountElement.textContent = count;

    // تحديث النص بناءً على اللغة
    updateVisitorText();
});

// يمكنك إضافة وظيفة لتغيير اللغة هنا
function changeLanguage(language) {
    currentLanguage = language;
    localStorage.setItem('language', currentLanguage);
    updateVisitorText(); // تحديث النص عند تغيير اللغة
    updateContent(); // تحديث المحتوى عند تغيير اللغة
    updateTextDirection(); // تحديث اتجاه النص عند تغيير اللغة
    updateButtonText(); // تحديث نص الزر عند تغيير اللغة
}
